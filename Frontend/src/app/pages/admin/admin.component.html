<body>
  <div class="container">
    <nav class="sidebar">
      <div class="logo">
        <h2>Admin Panel</h2>
      </div>
      <ul class="nav-links">
        <li
          class="active"
          data-section="users"
          (click)="switchSection('users')"
        >
          <i class="fas fa-users"></i>
          <span>User Management</span>
        </li>
        <li data-section="courses" (click)="switchSection('courses')">
          <i class="fas fa-book"></i>
          <span>Course Management</span>
        </li>
        <li data-section="assignments" (click)="switchSection('assignments')">
          <i class="fas fa-tasks"></i>
          <span>Course Assignments</span>
        </li>
      </ul>
    </nav>

    <main class="content">
      <!-- User Management Section -->
      <section id="users" class="section active">
        <h2>User Management</h2>
        <div class="action-bar">
          <button class="btn primary" (click)="addNewUser()">
            Add New User
          </button>
          <div class="search-bar">
            <input
              type="text"
              placeholder="Search users..."
              [(ngModel)]="userSearchTerm"
              (input)="filterUsers()"
            />
            <i class="fas fa-search"></i>
          </div>
        </div>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of users">
                <td>{{ user.id }}</td>
                <td>{{ user.name }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.role }}</td>
                <td>
                  <button
                    class="btn-icon edit"
                    (click)="editItem('user', user.id)"
                  >
                    <i class="fas fa-edit"></i>
                  </button>
                  <button
                    class="btn-icon delete"
                    (click)="deleteItem('user', user.id)"
                  >
                    <i class="fas fa-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Course Management Section -->
      <section id="courses" class="section">
        <h2>Course Management</h2>
        <div class="action-bar">
          <button class="btn primary" (click)="addNewCourse()">
            Add New Course
          </button>
          <div class="search-bar">
            <input
              type="text"
              placeholder="Search courses..."
              [(ngModel)]="courseSearchTerm"
              (input)="filterCourses()"
            />
            <i class="fas fa-search"></i>
          </div>
        </div>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Course ID</th>
                <th>Course Name</th>
                <th>Instructor</th>
                <th>Duration</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let course of courses">
                <td>{{ course.id }}</td>
                <td>{{ course.name }}</td>
                <td>{{ course.instructor }}</td>
                <td>{{ course.duration }}</td>
                <td>
                  <button
                    class="btn-icon edit"
                    (click)="editItem('course', course.id)"
                  >
                    <i class="fas fa-edit"></i>
                  </button>
                  <button
                    class="btn-icon delete"
                    (click)="deleteItem('course', course.id)"
                  >
                    <i class="fas fa-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Course Assignment Section -->
      <section id="assignments" class="section">
        <h2>Course Assignments</h2>
        <div class="assignment-container">
          <div class="assignment-form">
            <h3>Assign Student to Course</h3>
            <div class="form-group">
              <label for="student">Select Student</label>
              <select id="student">
                <option value="">Choose a student...</option>
                <option *ngFor="let user of users" [value]="user.id">
                  {{ user.name }}
                </option>
              </select>
            </div>
            <div class="form-group">
              <label for="course">Select Course</label>
              <select id="course">
                <option value="">Choose a course...</option>
                <option *ngFor="let course of courses" [value]="course.id">
                  {{ course.name }}
                </option>
              </select>
            </div>
            <button class="btn primary" (click)="assignCourse()">
              Assign Course
            </button>
          </div>
          <div class="current-assignments">
            <h3>Current Assignments</h3>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Student</th>
                    <th>Course</th>
                    <th>Assigned Date</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let assignment of assignments">
                    <td>{{ assignment.student }}</td>
                    <td>{{ assignment.course }}</td>
                    <td>{{ assignment.date }}</td>
                    <td>
                      <button
                        class="btn-icon delete"
                        (click)="deleteItem('assignment', assignment)"
                      >
                        <i class="fas fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</body>
